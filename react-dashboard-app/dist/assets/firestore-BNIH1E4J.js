import{bD as a,bE as t,bF as s,bG as e,bH as d,bI as o,bJ as r,bK as n,bi as i,bL as c,bM as m}from"./react-vendor-CimZ8x-k.js";import{d as p}from"./index-CE1QBjke.js";const D=async a=>{const t=new Date,s={...a,createdAt:r.fromDate(t),updatedAt:r.fromDate(t)};return(await n(e(p,"tasks"),s)).id},u=async(a,t)=>{const s=i(p,"tasks",a),e={...t,updatedAt:r.fromDate(new Date)};await m(s,e)},b=async a=>{const t=i(p,"tasks",a);await c(t)},T=async a=>{const t={...a,startTime:r.fromDate(a.startTime),endTime:a.endTime?r.fromDate(a.endTime):null};return(await n(e(p,"pomodoroSessions"),t)).id},w=async d=>{const r=a(e(p,"pomodoroSessions"),s("userId","==",d),t("startTime","desc"));return(await o(r)).docs.map(a=>({id:a.id,...a.data(),startTime:a.data().startTime?.toDate(),endTime:a.data().endTime?.toDate()}))},f=(o,r)=>{const n=a(e(p,"tasks"),s("userId","==",o),t("createdAt","desc"));return d(n,a=>{const t=a.docs.map(a=>({id:a.id,...a.data(),createdAt:a.data().createdAt?.toDate(),updatedAt:a.data().updatedAt?.toDate(),deadline:a.data().deadline?.toDate()}));r(t)},a=>{console.error("Error listening to tasks:",a)})},l=async a=>{const t={...a,timestamp:r.fromDate(new Date)};return(await n(e(p,"chatMessages"),t)).id},A=(o,r)=>{const n=a(e(p,"chatMessages"),s("userId","==",o),t("timestamp","asc"));return d(n,a=>{const t=a.docs.map(a=>({id:a.id,...a.data(),timestamp:a.data().timestamp?.toDate()}));r(t)},a=>{console.error("Error listening to chat messages:",a)})};export{A as a,l as b,D as c,b as d,T as e,w as g,f as s,u};
