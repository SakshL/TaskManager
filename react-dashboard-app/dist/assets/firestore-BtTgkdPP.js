import{bc as a,bd as t,be as e,bf as s,bg as d,bh as o,bi as r,bj as n,ai as i,bk as c,bl as m}from"./react-vendor-9sUWUj8V.js";import{d as u}from"./index-OjRGQQ76.js";const D=async a=>{const t=new Date,e={...a,createdAt:r.fromDate(t),updatedAt:r.fromDate(t)};return(await n(s(u,"tasks"),e)).id},p=async(a,t)=>{const e=i(u,"tasks",a),s={...t,updatedAt:r.fromDate(new Date)};await m(e,s)},b=async a=>{const t=i(u,"tasks",a);await c(t)},T=async a=>{const t={...a,startTime:r.fromDate(a.startTime),endTime:a.endTime?r.fromDate(a.endTime):null};return(await n(s(u,"pomodoroSessions"),t)).id},f=async d=>{const r=a(s(u,"pomodoroSessions"),e("userId","==",d),t("startTime","desc"));return(await o(r)).docs.map(a=>({id:a.id,...a.data(),startTime:a.data().startTime?.toDate(),endTime:a.data().endTime?.toDate()}))},A=(o,r)=>{const n=a(s(u,"tasks"),e("userId","==",o),t("createdAt","desc"));return d(n,a=>{const t=a.docs.map(a=>({id:a.id,...a.data(),createdAt:a.data().createdAt?.toDate(),updatedAt:a.data().updatedAt?.toDate(),deadline:a.data().deadline?.toDate()}));r(t)},a=>{console.error("Error listening to tasks:",a)})};export{T as a,D as c,b as d,f as g,A as s,p as u};
