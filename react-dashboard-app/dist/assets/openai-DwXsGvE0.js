const e=async e=>{try{const r=new AbortController,o=setTimeout(()=>r.abort(),3e4),t=await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer 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"},body:JSON.stringify({model:"gpt-3.5-turbo",messages:[{role:"system",content:"You are a helpful AI study assistant. Provide clear, concise, and educational responses."},{role:"user",content:e}],max_tokens:500,temperature:.7}),signal:r.signal});if(clearTimeout(o),!t.ok){const e=await t.json().catch(()=>({}));throw console.error("OpenAI API error:",t.status,e),401===t.status?new Error("Invalid API key. Please check your OpenAI configuration."):429===t.status?new Error("Rate limit exceeded. Please try again in a moment."):t.status>=500?new Error("OpenAI service is temporarily unavailable. Please try again later."):new Error(`OpenAI API error: ${t.status}`)}const n=await t.json();if(!n.choices||!n.choices[0]||!n.choices[0].message)throw new Error("Invalid response from OpenAI API");return n.choices[0].message.content.trim()}catch(r){if(r instanceof Error&&"AbortError"===r.name)throw new Error("Request timed out. Please try again.");throw console.error("Error fetching AI response:",r),r instanceof Error?r:new Error("Unknown error occurred")}};export{e as f};
