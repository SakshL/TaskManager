import{r as o,a as vt,b as wt,R as Nt}from"./vendor-CJBOjUNh.js";import{i as kt,g as St,a as Ct,G as Tt,c as Pt,s as Et,b as Dt,d as Lt,o as Rt,e as H,f as It,h as At,j as Mt,q as ve,k as we,w as Ne,l as G,m as ke,T as K,n as le,p as Bt,r as Se}from"./firebase-DrXqJ9Y0.js";import{R as ae,B as Ut,C as Re,X as Ie,Y as Ae,T as ne,a as Ft,L as Ot,b as $t,P as Me,c as Be,d as Ue}from"./charts-BQXvbOmD.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const l of n)if(l.type==="childList")for(const i of l.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function a(n){const l={};return n.integrity&&(l.integrity=n.integrity),n.referrerPolicy&&(l.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?l.credentials="include":n.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(n){if(n.ep)return;n.ep=!0;const l=a(n);fetch(n.href,l)}})();var Ze={exports:{}},oe={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _t=o,Wt=Symbol.for("react.element"),qt=Symbol.for("react.fragment"),zt=Object.prototype.hasOwnProperty,Vt=_t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ht={key:!0,ref:!0,__self:!0,__source:!0};function Qe(t,s,a){var r,n={},l=null,i=null;a!==void 0&&(l=""+a),s.key!==void 0&&(l=""+s.key),s.ref!==void 0&&(i=s.ref);for(r in s)zt.call(s,r)&&!Ht.hasOwnProperty(r)&&(n[r]=s[r]);if(t&&t.defaultProps)for(r in s=t.defaultProps,s)n[r]===void 0&&(n[r]=s[r]);return{$$typeof:Wt,type:t,key:l,ref:i,props:n,_owner:Vt.current}}oe.Fragment=qt;oe.jsx=Qe;oe.jsxs=Qe;Ze.exports=oe;var e=Ze.exports,xe={},Fe=vt;xe.createRoot=Fe.createRoot,xe.hydrateRoot=Fe.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function X(){return X=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var a=arguments[s];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},X.apply(this,arguments)}var O;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(O||(O={}));const Oe="popstate";function Gt(t){t===void 0&&(t={});function s(r,n){let{pathname:l,search:i,hash:u}=r.location;return pe("",{pathname:l,search:i,hash:u},n.state&&n.state.usr||null,n.state&&n.state.key||"default")}function a(r,n){return typeof n=="string"?n:ie(n)}return Jt(s,a,null,t)}function L(t,s){if(t===!1||t===null||typeof t>"u")throw new Error(s)}function Xe(t,s){if(!t){typeof console<"u"&&console.warn(s);try{throw new Error(s)}catch{}}}function Kt(){return Math.random().toString(36).substr(2,8)}function $e(t,s){return{usr:t.state,key:t.key,idx:s}}function pe(t,s,a,r){return a===void 0&&(a=null),X({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof s=="string"?J(s):s,{state:a,key:s&&s.key||r||Kt()})}function ie(t){let{pathname:s="/",search:a="",hash:r=""}=t;return a&&a!=="?"&&(s+=a.charAt(0)==="?"?a:"?"+a),r&&r!=="#"&&(s+=r.charAt(0)==="#"?r:"#"+r),s}function J(t){let s={};if(t){let a=t.indexOf("#");a>=0&&(s.hash=t.substr(a),t=t.substr(0,a));let r=t.indexOf("?");r>=0&&(s.search=t.substr(r),t=t.substr(0,r)),t&&(s.pathname=t)}return s}function Jt(t,s,a,r){r===void 0&&(r={});let{window:n=document.defaultView,v5Compat:l=!1}=r,i=n.history,u=O.Pop,c=null,x=p();x==null&&(x=0,i.replaceState(X({},i.state,{idx:x}),""));function p(){return(i.state||{idx:null}).idx}function m(){u=O.Pop;let j=p(),f=j==null?null:j-x;x=j,c&&c({action:u,location:N.location,delta:f})}function v(j,f){u=O.Push;let g=pe(N.location,j,f);x=p()+1;let b=$e(g,x),k=N.createHref(g);try{i.pushState(b,"",k)}catch(d){if(d instanceof DOMException&&d.name==="DataCloneError")throw d;n.location.assign(k)}l&&c&&c({action:u,location:N.location,delta:1})}function w(j,f){u=O.Replace;let g=pe(N.location,j,f);x=p();let b=$e(g,x),k=N.createHref(g);i.replaceState(b,"",k),l&&c&&c({action:u,location:N.location,delta:0})}function S(j){let f=n.location.origin!=="null"?n.location.origin:n.location.href,g=typeof j=="string"?j:ie(j);return g=g.replace(/ $/,"%20"),L(f,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,f)}let N={get action(){return u},get location(){return t(n,i)},listen(j){if(c)throw new Error("A history only accepts one active listener");return n.addEventListener(Oe,m),c=j,()=>{n.removeEventListener(Oe,m),c=null}},createHref(j){return s(n,j)},createURL:S,encodeLocation(j){let f=S(j);return{pathname:f.pathname,search:f.search,hash:f.hash}},push:v,replace:w,go(j){return i.go(j)}};return N}var _e;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(_e||(_e={}));function Yt(t,s,a){return a===void 0&&(a="/"),Zt(t,s,a)}function Zt(t,s,a,r){let n=typeof s=="string"?J(s):s,l=Ce(n.pathname||"/",a);if(l==null)return null;let i=et(t);Qt(i);let u=null;for(let c=0;u==null&&c<i.length;++c){let x=ds(l);u=is(i[c],x)}return u}function et(t,s,a,r){s===void 0&&(s=[]),a===void 0&&(a=[]),r===void 0&&(r="");let n=(l,i,u)=>{let c={relativePath:u===void 0?l.path||"":u,caseSensitive:l.caseSensitive===!0,childrenIndex:i,route:l};c.relativePath.startsWith("/")&&(L(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let x=$([r,c.relativePath]),p=a.concat(c);l.children&&l.children.length>0&&(L(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+x+'".')),et(l.children,s,p,x)),!(l.path==null&&!l.index)&&s.push({path:x,score:ns(x,l.index),routesMeta:p})};return t.forEach((l,i)=>{var u;if(l.path===""||!((u=l.path)!=null&&u.includes("?")))n(l,i);else for(let c of tt(l.path))n(l,i,c)}),s}function tt(t){let s=t.split("/");if(s.length===0)return[];let[a,...r]=s,n=a.endsWith("?"),l=a.replace(/\?$/,"");if(r.length===0)return n?[l,""]:[l];let i=tt(r.join("/")),u=[];return u.push(...i.map(c=>c===""?l:[l,c].join("/"))),n&&u.push(...i),u.map(c=>t.startsWith("/")&&c===""?"/":c)}function Qt(t){t.sort((s,a)=>s.score!==a.score?a.score-s.score:ls(s.routesMeta.map(r=>r.childrenIndex),a.routesMeta.map(r=>r.childrenIndex)))}const Xt=/^:[\w-]+$/,es=3,ts=2,ss=1,rs=10,as=-2,We=t=>t==="*";function ns(t,s){let a=t.split("/"),r=a.length;return a.some(We)&&(r+=as),s&&(r+=ts),a.filter(n=>!We(n)).reduce((n,l)=>n+(Xt.test(l)?es:l===""?ss:rs),r)}function ls(t,s){return t.length===s.length&&t.slice(0,-1).every((r,n)=>r===s[n])?t[t.length-1]-s[s.length-1]:0}function is(t,s,a){let{routesMeta:r}=t,n={},l="/",i=[];for(let u=0;u<r.length;++u){let c=r[u],x=u===r.length-1,p=l==="/"?s:s.slice(l.length)||"/",m=os({path:c.relativePath,caseSensitive:c.caseSensitive,end:x},p),v=c.route;if(!m)return null;Object.assign(n,m.params),i.push({params:n,pathname:$([l,m.pathname]),pathnameBase:xs($([l,m.pathnameBase])),route:v}),m.pathnameBase!=="/"&&(l=$([l,m.pathnameBase]))}return i}function os(t,s){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[a,r]=cs(t.path,t.caseSensitive,t.end),n=s.match(a);if(!n)return null;let l=n[0],i=l.replace(/(.)\/+$/,"$1"),u=n.slice(1);return{params:r.reduce((x,p,m)=>{let{paramName:v,isOptional:w}=p;if(v==="*"){let N=u[m]||"";i=l.slice(0,l.length-N.length).replace(/(.)\/+$/,"$1")}const S=u[m];return w&&!S?x[v]=void 0:x[v]=(S||"").replace(/%2F/g,"/"),x},{}),pathname:l,pathnameBase:i,pattern:t}}function cs(t,s,a){s===void 0&&(s=!1),a===void 0&&(a=!0),Xe(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],n="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,u,c)=>(r.push({paramName:u,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),n+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?n+="\\/*$":t!==""&&t!=="/"&&(n+="(?:(?=\\/|$))"),[new RegExp(n,s?void 0:"i"),r]}function ds(t){try{return t.split("/").map(s=>decodeURIComponent(s).replace(/\//g,"%2F")).join("/")}catch(s){return Xe(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+s+").")),t}}function Ce(t,s){if(s==="/")return t;if(!t.toLowerCase().startsWith(s.toLowerCase()))return null;let a=s.endsWith("/")?s.length-1:s.length,r=t.charAt(a);return r&&r!=="/"?null:t.slice(a)||"/"}function us(t,s){s===void 0&&(s="/");let{pathname:a,search:r="",hash:n=""}=typeof t=="string"?J(t):t;return{pathname:a?a.startsWith("/")?a:ms(a,s):s,search:ps(r),hash:gs(n)}}function ms(t,s){let a=s.replace(/\/+$/,"").split("/");return t.split("/").forEach(n=>{n===".."?a.length>1&&a.pop():n!=="."&&a.push(n)}),a.length>1?a.join("/"):"/"}function me(t,s,a,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+s+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+a+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function hs(t){return t.filter((s,a)=>a===0||s.route.path&&s.route.path.length>0)}function Te(t,s){let a=hs(t);return s?a.map((r,n)=>n===a.length-1?r.pathname:r.pathnameBase):a.map(r=>r.pathnameBase)}function Pe(t,s,a,r){r===void 0&&(r=!1);let n;typeof t=="string"?n=J(t):(n=X({},t),L(!n.pathname||!n.pathname.includes("?"),me("?","pathname","search",n)),L(!n.pathname||!n.pathname.includes("#"),me("#","pathname","hash",n)),L(!n.search||!n.search.includes("#"),me("#","search","hash",n)));let l=t===""||n.pathname==="",i=l?"/":n.pathname,u;if(i==null)u=a;else{let m=s.length-1;if(!r&&i.startsWith("..")){let v=i.split("/");for(;v[0]==="..";)v.shift(),m-=1;n.pathname=v.join("/")}u=m>=0?s[m]:"/"}let c=us(n,u),x=i&&i!=="/"&&i.endsWith("/"),p=(l||i===".")&&a.endsWith("/");return!c.pathname.endsWith("/")&&(x||p)&&(c.pathname+="/"),c}const $=t=>t.join("/").replace(/\/\/+/g,"/"),xs=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),ps=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,gs=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function fs(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const st=["post","put","patch","delete"];new Set(st);const ys=["get",...st];new Set(ys);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ee(){return ee=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var a=arguments[s];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},ee.apply(this,arguments)}const Ee=o.createContext(null),bs=o.createContext(null),_=o.createContext(null),ce=o.createContext(null),W=o.createContext({outlet:null,matches:[],isDataRoute:!1}),rt=o.createContext(null);function js(t,s){let{relative:a}=s===void 0?{}:s;Y()||L(!1);let{basename:r,navigator:n}=o.useContext(_),{hash:l,pathname:i,search:u}=nt(t,{relative:a}),c=i;return r!=="/"&&(c=i==="/"?r:$([r,i])),n.createHref({pathname:c,search:u,hash:l})}function Y(){return o.useContext(ce)!=null}function Z(){return Y()||L(!1),o.useContext(ce).location}function at(t){o.useContext(_).static||o.useLayoutEffect(t)}function de(){let{isDataRoute:t}=o.useContext(W);return t?Is():vs()}function vs(){Y()||L(!1);let t=o.useContext(Ee),{basename:s,future:a,navigator:r}=o.useContext(_),{matches:n}=o.useContext(W),{pathname:l}=Z(),i=JSON.stringify(Te(n,a.v7_relativeSplatPath)),u=o.useRef(!1);return at(()=>{u.current=!0}),o.useCallback(function(x,p){if(p===void 0&&(p={}),!u.current)return;if(typeof x=="number"){r.go(x);return}let m=Pe(x,JSON.parse(i),l,p.relative==="path");t==null&&s!=="/"&&(m.pathname=m.pathname==="/"?s:$([s,m.pathname])),(p.replace?r.replace:r.push)(m,p.state,p)},[s,r,i,l,t])}function nt(t,s){let{relative:a}=s===void 0?{}:s,{future:r}=o.useContext(_),{matches:n}=o.useContext(W),{pathname:l}=Z(),i=JSON.stringify(Te(n,r.v7_relativeSplatPath));return o.useMemo(()=>Pe(t,JSON.parse(i),l,a==="path"),[t,i,l,a])}function ws(t,s){return Ns(t,s)}function Ns(t,s,a,r){Y()||L(!1);let{navigator:n}=o.useContext(_),{matches:l}=o.useContext(W),i=l[l.length-1],u=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let x=Z(),p;if(s){var m;let j=typeof s=="string"?J(s):s;c==="/"||(m=j.pathname)!=null&&m.startsWith(c)||L(!1),p=j}else p=x;let v=p.pathname||"/",w=v;if(c!=="/"){let j=c.replace(/^\//,"").split("/");w="/"+v.replace(/^\//,"").split("/").slice(j.length).join("/")}let S=Yt(t,{pathname:w}),N=Ps(S&&S.map(j=>Object.assign({},j,{params:Object.assign({},u,j.params),pathname:$([c,n.encodeLocation?n.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?c:$([c,n.encodeLocation?n.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),l,a,r);return s&&N?o.createElement(ce.Provider,{value:{location:ee({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:O.Pop}},N):N}function ks(){let t=Rs(),s=fs(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),a=t instanceof Error?t.stack:null,n={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return o.createElement(o.Fragment,null,o.createElement("h2",null,"Unexpected Application Error!"),o.createElement("h3",{style:{fontStyle:"italic"}},s),a?o.createElement("pre",{style:n},a):null,null)}const Ss=o.createElement(ks,null);class Cs extends o.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,a){return a.location!==s.location||a.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:a.error,location:a.location,revalidation:s.revalidation||a.revalidation}}componentDidCatch(s,a){console.error("React Router caught the following error during render",s,a)}render(){return this.state.error!==void 0?o.createElement(W.Provider,{value:this.props.routeContext},o.createElement(rt.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Ts(t){let{routeContext:s,match:a,children:r}=t,n=o.useContext(Ee);return n&&n.static&&n.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=a.route.id),o.createElement(W.Provider,{value:s},r)}function Ps(t,s,a,r){var n;if(s===void 0&&(s=[]),a===void 0&&(a=null),r===void 0&&(r=null),t==null){var l;if(!a)return null;if(a.errors)t=a.matches;else if((l=r)!=null&&l.v7_partialHydration&&s.length===0&&!a.initialized&&a.matches.length>0)t=a.matches;else return null}let i=t,u=(n=a)==null?void 0:n.errors;if(u!=null){let p=i.findIndex(m=>m.route.id&&(u==null?void 0:u[m.route.id])!==void 0);p>=0||L(!1),i=i.slice(0,Math.min(i.length,p+1))}let c=!1,x=-1;if(a&&r&&r.v7_partialHydration)for(let p=0;p<i.length;p++){let m=i[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(x=p),m.route.id){let{loaderData:v,errors:w}=a,S=m.route.loader&&v[m.route.id]===void 0&&(!w||w[m.route.id]===void 0);if(m.route.lazy||S){c=!0,x>=0?i=i.slice(0,x+1):i=[i[0]];break}}}return i.reduceRight((p,m,v)=>{let w,S=!1,N=null,j=null;a&&(w=u&&m.route.id?u[m.route.id]:void 0,N=m.route.errorElement||Ss,c&&(x<0&&v===0?(As("route-fallback"),S=!0,j=null):x===v&&(S=!0,j=m.route.hydrateFallbackElement||null)));let f=s.concat(i.slice(0,v+1)),g=()=>{let b;return w?b=N:S?b=j:m.route.Component?b=o.createElement(m.route.Component,null):m.route.element?b=m.route.element:b=p,o.createElement(Ts,{match:m,routeContext:{outlet:p,matches:f,isDataRoute:a!=null},children:b})};return a&&(m.route.ErrorBoundary||m.route.errorElement||v===0)?o.createElement(Cs,{location:a.location,revalidation:a.revalidation,component:N,error:w,children:g(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):g()},null)}var lt=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(lt||{}),it=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(it||{});function Es(t){let s=o.useContext(Ee);return s||L(!1),s}function Ds(t){let s=o.useContext(bs);return s||L(!1),s}function Ls(t){let s=o.useContext(W);return s||L(!1),s}function ot(t){let s=Ls(),a=s.matches[s.matches.length-1];return a.route.id||L(!1),a.route.id}function Rs(){var t;let s=o.useContext(rt),a=Ds(),r=ot();return s!==void 0?s:(t=a.errors)==null?void 0:t[r]}function Is(){let{router:t}=Es(lt.UseNavigateStable),s=ot(it.UseNavigateStable),a=o.useRef(!1);return at(()=>{a.current=!0}),o.useCallback(function(n,l){l===void 0&&(l={}),a.current&&(typeof n=="number"?t.navigate(n):t.navigate(n,ee({fromRouteId:s},l)))},[t,s])}const qe={};function As(t,s,a){qe[t]||(qe[t]=!0)}function Ms(t,s){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function ct(t){let{to:s,replace:a,state:r,relative:n}=t;Y()||L(!1);let{future:l,static:i}=o.useContext(_),{matches:u}=o.useContext(W),{pathname:c}=Z(),x=de(),p=Pe(s,Te(u,l.v7_relativeSplatPath),c,n==="path"),m=JSON.stringify(p);return o.useEffect(()=>x(JSON.parse(m),{replace:a,state:r,relative:n}),[x,m,n,a,r]),null}function B(t){L(!1)}function Bs(t){let{basename:s="/",children:a=null,location:r,navigationType:n=O.Pop,navigator:l,static:i=!1,future:u}=t;Y()&&L(!1);let c=s.replace(/^\/*/,"/"),x=o.useMemo(()=>({basename:c,navigator:l,static:i,future:ee({v7_relativeSplatPath:!1},u)}),[c,u,l,i]);typeof r=="string"&&(r=J(r));let{pathname:p="/",search:m="",hash:v="",state:w=null,key:S="default"}=r,N=o.useMemo(()=>{let j=Ce(p,c);return j==null?null:{location:{pathname:j,search:m,hash:v,state:w,key:S},navigationType:n}},[c,p,m,v,w,S,n]);return N==null?null:o.createElement(_.Provider,{value:x},o.createElement(ce.Provider,{children:a,value:N}))}function ze(t){let{children:s,location:a}=t;return ws(ge(s),a)}new Promise(()=>{});function ge(t,s){s===void 0&&(s=[]);let a=[];return o.Children.forEach(t,(r,n)=>{if(!o.isValidElement(r))return;let l=[...s,n];if(r.type===o.Fragment){a.push.apply(a,ge(r.props.children,l));return}r.type!==B&&L(!1),!r.props.index||!r.props.children||L(!1);let i={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(i.children=ge(r.props.children,l)),a.push(i)}),a}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fe(){return fe=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var a=arguments[s];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},fe.apply(this,arguments)}function Us(t,s){if(t==null)return{};var a={},r=Object.keys(t),n,l;for(l=0;l<r.length;l++)n=r[l],!(s.indexOf(n)>=0)&&(a[n]=t[n]);return a}function Fs(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Os(t,s){return t.button===0&&(!s||s==="_self")&&!Fs(t)}const $s=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],_s="6";try{window.__reactRouterVersion=_s}catch{}const Ws="startTransition",Ve=wt[Ws];function qs(t){let{basename:s,children:a,future:r,window:n}=t,l=o.useRef();l.current==null&&(l.current=Gt({window:n,v5Compat:!0}));let i=l.current,[u,c]=o.useState({action:i.action,location:i.location}),{v7_startTransition:x}=r||{},p=o.useCallback(m=>{x&&Ve?Ve(()=>c(m)):c(m)},[c,x]);return o.useLayoutEffect(()=>i.listen(p),[i,p]),o.useEffect(()=>Ms(r),[r]),o.createElement(Bs,{basename:s,children:a,location:u.location,navigationType:u.action,navigator:i,future:r})}const zs=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Vs=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,V=o.forwardRef(function(s,a){let{onClick:r,relative:n,reloadDocument:l,replace:i,state:u,target:c,to:x,preventScrollReset:p,viewTransition:m}=s,v=Us(s,$s),{basename:w}=o.useContext(_),S,N=!1;if(typeof x=="string"&&Vs.test(x)&&(S=x,zs))try{let b=new URL(window.location.href),k=x.startsWith("//")?new URL(b.protocol+x):new URL(x),d=Ce(k.pathname,w);k.origin===b.origin&&d!=null?x=d+k.search+k.hash:N=!0}catch{}let j=js(x,{relative:n}),f=Hs(x,{replace:i,state:u,target:c,preventScrollReset:p,relative:n,viewTransition:m});function g(b){r&&r(b),b.defaultPrevented||f(b)}return o.createElement("a",fe({},v,{href:S||j,onClick:N||l?r:g,ref:a,target:c}))});var He;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(He||(He={}));var Ge;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Ge||(Ge={}));function Hs(t,s){let{target:a,replace:r,state:n,preventScrollReset:l,relative:i,viewTransition:u}=s===void 0?{}:s,c=de(),x=Z(),p=nt(t,{relative:i});return o.useCallback(m=>{if(Os(m,a)){m.preventDefault();let v=r!==void 0?r:ie(x)===ie(p);c(t,{replace:v,state:n,preventScrollReset:l,relative:i,viewTransition:u})}},[x,c,p,r,n,a,t,l,i,u])}/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Gs={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ks=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),C=(t,s)=>{const a=o.forwardRef(({color:r="currentColor",size:n=24,strokeWidth:l=2,absoluteStrokeWidth:i,className:u="",children:c,...x},p)=>o.createElement("svg",{ref:p,...Gs,width:n,height:n,stroke:r,strokeWidth:i?Number(l)*24/Number(n):l,className:["lucide",`lucide-${Ks(t)}`,u].join(" "),...x},[...s.map(([m,v])=>o.createElement(m,v)),...Array.isArray(c)?c:[c]]));return a.displayName=`${t}`,a};/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Js=C("BarChart",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ys=C("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zs=C("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qs=C("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=C("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ye=C("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=C("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xs=C("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ke=C("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const te=C("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const er=C("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tr=C("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sr=C("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rr=C("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ar=C("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nr=C("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=C("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=C("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lr=C("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ir=C("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dt=C("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const or=C("SkipForward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=C("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cr=C("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ut=C("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dr=C("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mt=C("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ur=C("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mr=C("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Le=C("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hr=C("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.298.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xr=C("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),pr=()=>{const t=Z(),s=[{path:"/dashboard",name:"Dashboard",icon:tr},{path:"/tasks",name:"Tasks",icon:Xs},{path:"/calendar",name:"Calendar",icon:De},{path:"/pomodoro",name:"Pomodoro",icon:ur},{path:"/analytics",name:"Analytics",icon:Js},{path:"/ai-assistant",name:"AI Assistant",icon:Qs},{path:"/settings",name:"Settings",icon:dt}];return e.jsxs("div",{className:"flex flex-col h-full bg-gray-900 text-white w-64 shadow-lg",children:[e.jsx("div",{className:"flex items-center justify-center h-16 border-b border-gray-700",children:e.jsx("h1",{className:"text-xl font-bold text-blue-400",children:"Task Manager"})}),e.jsx("nav",{className:"flex-1 p-4",children:e.jsx("ul",{className:"space-y-2",children:s.map(a=>{const r=a.icon,n=t.pathname===a.path;return e.jsx("li",{children:e.jsxs(V,{to:a.path,className:`flex items-center p-3 rounded-lg transition-colors duration-200 ${n?"bg-blue-600 text-white":"hover:bg-gray-800 text-gray-300"}`,children:[e.jsx(r,{className:"w-5 h-5 mr-3"}),e.jsx("span",{className:"font-medium",children:a.name})]})},a.path)})})})]})},gr={apiKey:"AIzaSyDNdyln3e3zfRtMs8gRwpnCDwyVnB80w3o",authDomain:"studentmanagerr-632e5.firebaseapp.com",projectId:"studentmanagerr-632e5",storageBucket:"studentmanagerr-632e5.firebasestorage.app",messagingSenderId:"1067720396369",appId:"1:1067720396369:web:bc0489cf45ee5960667270"},ht=kt(gr),se=St(ht),M=Ct(ht),fr=new Tt,yr=async()=>{try{const t=await Lt(se,fr);return console.log("User signed in:",t.user.displayName),await xt(t.user),t.user}catch(t){throw console.error("Error signing in with Google:",t),t}},br=async(t,s)=>{try{const a=await Dt(se,t,s);if(console.log("User signed in with email:",a.user.email),!a.user.emailVerified)throw new Error("Please verify your email before signing in. Check your inbox for a verification link.");return a.user}catch(a){throw console.error("Error signing in with email:",a),a}},jr=async(t,s,a)=>{try{const r=await Pt(se,t,s);return await Et(r.user),await xt(r.user),console.log("User created:",r.user.email),r.user}catch(r){throw console.error("Error creating user:",r),r}},xt=async t=>{try{const s=H(M,"users",t.uid);(await It(s)).exists()||await At(s,{uid:t.uid,email:t.email,displayName:t.displayName,photoURL:t.photoURL,createdAt:new Date,emailVerified:t.emailVerified})}catch(s){console.error("Error saving user to Firestore:",s)}},vr=async()=>{try{await Mt(se),console.log("User signed out")}catch(t){throw console.error("Error signing out:",t),t}},wr=t=>Rt(se,t),z=()=>{const[t,s]=o.useState(null),[a,r]=o.useState(!0);return o.useEffect(()=>{const n=wr(l=>{s(l),r(!1)});return()=>n()},[]),{user:t,loading:a}},Nr=()=>{var r;const{user:t}=z(),s=de(),a=async()=>{try{await vr(),s("/login")}catch(n){console.error("Error logging out:",n)}};return e.jsxs("div",{className:"flex justify-between items-center p-4 bg-white shadow-sm border-b border-gray-200",children:[e.jsx("div",{className:"flex items-center",children:e.jsxs("h1",{className:"text-2xl font-semibold text-gray-800",children:["Good morning, ",((r=t==null?void 0:t.displayName)==null?void 0:r.split(" ")[0])||"User","!"]})}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("button",{className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-full transition-colors",children:e.jsx(Ys,{className:"w-5 h-5"})}),e.jsxs("div",{className:"flex items-center space-x-3",children:[t!=null&&t.photoURL?e.jsx("img",{src:t.photoURL,alt:"Profile",className:"w-8 h-8 rounded-full"}):e.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center",children:e.jsx(hr,{className:"w-4 h-4 text-white"})}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:(t==null?void 0:t.displayName)||(t==null?void 0:t.email)})]}),e.jsxs("button",{onClick:a,className:"flex items-center space-x-2 px-3 py-2 text-sm font-medium text-red-600 hover:text-red-700 hover:bg-red-50 rounded-md transition-colors",children:[e.jsx(sr,{className:"w-4 h-4"}),e.jsx("span",{children:"Logout"})]})]})]})},kr=({children:t})=>e.jsxs("div",{className:"flex h-screen bg-gray-100",children:[e.jsx(pr,{}),e.jsxs("div",{className:"flex-1 flex flex-col",children:[e.jsx(Nr,{}),e.jsx("main",{className:"flex-1 p-6 overflow-y-auto",children:t})]})]}),Sr=async t=>{const s=new Date,a={...t,createdAt:K.fromDate(s),updatedAt:K.fromDate(s)};return(await Se(G(M,"tasks"),a)).id},Cr=async(t,s)=>{const a=H(M,"tasks",t),r={...s,updatedAt:K.fromDate(new Date)};await le(a,r)},Tr=async t=>{const s=H(M,"tasks",t);await Bt(s)},ue=async t=>{const s=ve(G(M,"tasks"),Ne("userId","==",t),we("createdAt","desc"));return(await ke(s)).docs.map(r=>{var n,l,i;return{id:r.id,...r.data(),createdAt:(n=r.data().createdAt)==null?void 0:n.toDate(),updatedAt:(l=r.data().updatedAt)==null?void 0:l.toDate(),deadline:(i=r.data().deadline)==null?void 0:i.toDate()}})},Pr=async t=>{const s={...t,startTime:K.fromDate(t.startTime),endTime:t.endTime?K.fromDate(t.endTime):null};return(await Se(G(M,"pomodoroSessions"),s)).id},Ye=async(t,s)=>{const a=H(M,"pomodoroSessions",t),r={...s,endTime:s.endTime?K.fromDate(s.endTime):null};await le(a,r)},pt=async t=>{const s=ve(G(M,"pomodoroSessions"),Ne("userId","==",t),we("startTime","desc"));return(await ke(s)).docs.map(r=>{var n,l;return{id:r.id,...r.data(),startTime:(n=r.data().startTime)==null?void 0:n.toDate(),endTime:(l=r.data().endTime)==null?void 0:l.toDate()}})},Er="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",gt=async t=>{try{const s=await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Er}`},body:JSON.stringify({model:"gpt-4",messages:[{role:"user",content:t}],max_tokens:1e3})});if(!s.ok)throw new Error(`OpenAI API error: ${s.status}`);return(await s.json()).choices[0].message.content}catch(s){throw console.error("Error fetching AI response:",s),s}},Dr=()=>{var k;const{user:t}=z(),[s,a]=o.useState([]),[r,n]=o.useState([]),[l,i]=o.useState(!0),[u,c]=o.useState(""),[x,p]=o.useState("");o.useEffect(()=>{t&&(m(),v())},[t]);const m=async()=>{try{i(!0);const[d,P]=await Promise.all([ue(t.uid),pt(t.uid)]);a(d),n(P)}catch(d){console.error("Error loading dashboard data:",d)}finally{i(!1)}},v=async()=>{try{const P=await gt("Give me a short, motivational quote (max 20 words) for students to stay productive and focused. Just return the quote without any additional text.");c(P)}catch(d){console.error("Error loading motivational quote:",d),c("Success is not final, failure is not fatal: it is the courage to continue that counts.")}},w=s.filter(d=>{if(!d.deadline)return!1;const P=new Date;return new Date(d.deadline).toDateString()===P.toDateString()}),S=w.filter(d=>d.status==="completed").length,N=w.length>0?S/w.length*100:0,j=r.filter(d=>d.completed&&d.type==="work").reduce((d,P)=>d+P.duration,0),f=s.filter(d=>d.deadline&&new Date(d.deadline)>new Date&&d.status!=="completed").sort((d,P)=>new Date(d.deadline).getTime()-new Date(P.deadline).getTime()).slice(0,3),g=()=>{const d=new Date().getHours();return d<12?"Good morning":d<17?"Good afternoon":"Good evening"},b=d=>{switch(d){case"high":return"bg-red-100 text-red-800 border-red-200";case"medium":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"low":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}};return l?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-blue-50 to-indigo-50 flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-blue-50 to-indigo-50 p-6",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-4xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:[g(),", ",((k=t==null?void 0:t.displayName)==null?void 0:k.split(" ")[0])||"Student","! 👋"]}),e.jsx("p",{className:"text-gray-600 text-lg mt-2",children:"Ready to crush your goals today?"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Today's Date"}),e.jsx("div",{className:"text-lg font-semibold text-gray-900",children:new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]})]})}),e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 rounded-2xl p-6 text-white",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx(ut,{className:"w-5 h-5 mr-2"}),e.jsx("span",{className:"font-medium",children:"Daily Motivation"})]}),e.jsxs("p",{className:"text-lg font-medium italic",children:['"',u,'"']})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[e.jsx("div",{className:"bg-white/80 backdrop-blur-sm p-6 rounded-2xl border border-white/20 shadow-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Tasks"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:s.length})]}),e.jsx("div",{className:"p-3 bg-gradient-to-r from-blue-500 to-purple-600 rounded-xl",children:e.jsx(ye,{className:"w-6 h-6 text-white"})})]})}),e.jsx("div",{className:"bg-white/80 backdrop-blur-sm p-6 rounded-2xl border border-white/20 shadow-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Today's Progress"}),e.jsxs("p",{className:"text-3xl font-bold text-green-600",children:[Math.round(N),"%"]})]}),e.jsx("div",{className:"p-3 bg-gradient-to-r from-green-500 to-emerald-500 rounded-xl",children:e.jsx(Le,{className:"w-6 h-6 text-white"})})]})}),e.jsx("div",{className:"bg-white/80 backdrop-blur-sm p-6 rounded-2xl border border-white/20 shadow-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Focus Time"}),e.jsxs("p",{className:"text-3xl font-bold text-purple-600",children:[Math.floor(j/60),"h"]})]}),e.jsx("div",{className:"p-3 bg-gradient-to-r from-purple-500 to-pink-500 rounded-xl",children:e.jsx(te,{className:"w-6 h-6 text-white"})})]})}),e.jsx("div",{className:"bg-white/80 backdrop-blur-sm p-6 rounded-2xl border border-white/20 shadow-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Completed"}),e.jsx("p",{className:"text-3xl font-bold text-orange-600",children:s.filter(d=>d.status==="completed").length})]}),e.jsx("div",{className:"p-3 bg-gradient-to-r from-orange-500 to-red-500 rounded-xl",children:e.jsx(mt,{className:"w-6 h-6 text-white"})})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl border border-white/20 shadow-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Today's Tasks"}),e.jsx(V,{to:"/tasks",className:"text-purple-600 hover:text-purple-700 font-medium text-sm",children:"View All"})]}),w.length>0?e.jsx("div",{className:"space-y-4",children:w.slice(0,5).map(d=>e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${d.status==="completed"?"bg-green-500":d.status==="in-progress"?"bg-blue-500":"bg-gray-300"}`}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:`font-medium ${d.status==="completed"?"line-through text-gray-500":"text-gray-900"}`,children:d.title}),e.jsx("p",{className:"text-sm text-gray-500",children:d.subject})]}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${b(d.priority)}`,children:d.priority})]},d.id))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(De,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:"No tasks scheduled for today"}),e.jsxs(V,{to:"/tasks",className:"inline-flex items-center mt-4 px-4 py-2 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-lg hover:from-purple-700 hover:to-pink-700 transition-all duration-200",children:[e.jsx(je,{className:"w-4 h-4 mr-2"}),"Add Task"]})]})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl border border-white/20 shadow-lg p-6",children:[e.jsx("h3",{className:"font-bold text-gray-900 mb-4",children:"Quick Actions"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(V,{to:"/tasks",className:"flex items-center space-x-3 p-3 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-lg hover:from-blue-600 hover:to-purple-700 transition-all duration-200",children:[e.jsx(je,{className:"w-5 h-5"}),e.jsx("span",{children:"Add New Task"})]}),e.jsxs(V,{to:"/pomodoro",className:"flex items-center space-x-3 p-3 bg-gradient-to-r from-green-500 to-emerald-600 text-white rounded-lg hover:from-green-600 hover:to-emerald-700 transition-all duration-200",children:[e.jsx(te,{className:"w-5 h-5"}),e.jsx("span",{children:"Start Focus Session"})]}),e.jsxs(V,{to:"/ai-assistant",className:"flex items-center space-x-3 p-3 bg-gradient-to-r from-purple-500 to-pink-600 text-white rounded-lg hover:from-purple-600 hover:to-pink-700 transition-all duration-200",children:[e.jsx(xr,{className:"w-5 h-5"}),e.jsx("span",{children:"Ask AI Assistant"})]})]})]}),e.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl border border-white/20 shadow-lg p-6",children:[e.jsx("h3",{className:"font-bold text-gray-900 mb-4",children:"Upcoming Deadlines"}),f.length>0?e.jsx("div",{className:"space-y-3",children:f.map(d=>e.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[e.jsx("p",{className:"font-medium text-gray-900 text-sm",children:d.title}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Due: ",new Date(d.deadline).toLocaleDateString()]})]},d.id))}):e.jsx("p",{className:"text-gray-500 text-sm",children:"No upcoming deadlines"})]}),e.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl border border-white/20 shadow-lg p-6",children:[e.jsx("h3",{className:"font-bold text-gray-900 mb-4",children:"Quick Notes"}),e.jsx("textarea",{value:x,onChange:d=>p(d.target.value),placeholder:"Jot down your thoughts...",className:"w-full h-24 p-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent text-sm"})]})]})]})]})},Lr=()=>{const{user:t}=z(),[s,a]=o.useState([]),[r,n]=o.useState(!0),[l,i]=o.useState(!1),[u,c]=o.useState(null),[x,p]=o.useState(""),[m,v]=o.useState("all"),[w,S]=o.useState("all"),[N,j]=o.useState([]),[f,g]=o.useState({title:"",description:"",deadline:"",priority:"medium",subject:"",status:"todo",estimatedTime:""});o.useEffect(()=>{t&&b()},[t]);const b=async()=>{try{n(!0);const h=await ue(t.uid);a(h)}catch(h){console.error("Error loading tasks:",h)}finally{n(!1)}},k=async()=>{if(f.title.trim())try{const h={title:f.title,description:f.description||void 0,deadline:f.deadline?new Date(f.deadline):void 0,priority:f.priority,subject:f.subject||"General",status:f.status,estimatedTime:f.estimatedTime?parseInt(f.estimatedTime):void 0,userId:t.uid};await Sr(h),await b(),y(),i(!1)}catch(h){console.error("Error creating task:",h)}},d=async(h,A)=>{try{await Cr(h,A),await b()}catch(U){console.error("Error updating task:",U)}},P=async h=>{if(window.confirm("Are you sure you want to delete this task?"))try{await Tr(h),await b()}catch(A){console.error("Error deleting task:",A)}},y=()=>{g({title:"",description:"",deadline:"",priority:"medium",subject:"",status:"todo",estimatedTime:""}),c(null)},E=s.filter(h=>{var re;const A=h.title.toLowerCase().includes(x.toLowerCase())||((re=h.description)==null?void 0:re.toLowerCase().includes(x.toLowerCase()))||h.subject.toLowerCase().includes(x.toLowerCase()),U=m==="all"||h.status===m,q=w==="all"||h.priority===w;return A&&U&&q}),D={total:s.length,todo:s.filter(h=>h.status==="todo").length,inProgress:s.filter(h=>h.status==="in-progress").length,completed:s.filter(h=>h.status==="completed").length},R=h=>{switch(h){case"high":return"text-red-600 bg-red-100";case"medium":return"text-yellow-600 bg-yellow-100";case"low":return"text-green-600 bg-green-100";default:return"text-gray-600 bg-gray-100"}},I=h=>{const A=["bg-purple-100 text-purple-800","bg-blue-100 text-blue-800","bg-green-100 text-green-800","bg-pink-100 text-pink-800","bg-indigo-100 text-indigo-800","bg-orange-100 text-orange-800"],U=h.length%A.length;return A[U]};return r?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-blue-50 to-indigo-50 p-6",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent mb-2",children:"Task Manager"}),e.jsx("p",{className:"text-gray-600 text-lg",children:"Stay organized and boost your productivity"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[e.jsx("div",{className:"bg-white/80 backdrop-blur-sm p-6 rounded-2xl border border-white/20 shadow-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Total Tasks"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:D.total})]}),e.jsx("div",{className:"p-3 bg-gradient-to-r from-blue-500 to-purple-600 rounded-xl",children:e.jsx(dr,{className:"w-6 h-6 text-white"})})]})}),e.jsx("div",{className:"bg-white/80 backdrop-blur-sm p-6 rounded-2xl border border-white/20 shadow-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"To Do"}),e.jsx("p",{className:"text-3xl font-bold text-orange-600",children:D.todo})]}),e.jsx("div",{className:"p-3 bg-gradient-to-r from-orange-500 to-red-500 rounded-xl",children:e.jsx(Ke,{className:"w-6 h-6 text-white"})})]})}),e.jsx("div",{className:"bg-white/80 backdrop-blur-sm p-6 rounded-2xl border border-white/20 shadow-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"In Progress"}),e.jsx("p",{className:"text-3xl font-bold text-blue-600",children:D.inProgress})]}),e.jsx("div",{className:"p-3 bg-gradient-to-r from-blue-500 to-indigo-500 rounded-xl",children:e.jsx(te,{className:"w-6 h-6 text-white"})})]})}),e.jsx("div",{className:"bg-white/80 backdrop-blur-sm p-6 rounded-2xl border border-white/20 shadow-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Completed"}),e.jsx("p",{className:"text-3xl font-bold text-green-600",children:D.completed})]}),e.jsx("div",{className:"p-3 bg-gradient-to-r from-green-500 to-emerald-500 rounded-xl",children:e.jsx(ye,{className:"w-6 h-6 text-white"})})]})})]}),e.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl border border-white/20 shadow-lg p-6 mb-8",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 items-center justify-between",children:[e.jsxs("div",{className:"relative flex-1 max-w-md",children:[e.jsx(lr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{type:"text",placeholder:"Search tasks...",value:x,onChange:h=>p(h.target.value),className:"w-full pl-10 pr-4 py-3 bg-white/50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("select",{value:m,onChange:h=>v(h.target.value),className:"px-4 py-3 bg-white/50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"todo",children:"To Do"}),e.jsx("option",{value:"in-progress",children:"In Progress"}),e.jsx("option",{value:"completed",children:"Completed"})]}),e.jsxs("select",{value:w,onChange:h=>S(h.target.value),className:"px-4 py-3 bg-white/50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"All Priority"}),e.jsx("option",{value:"high",children:"High Priority"}),e.jsx("option",{value:"medium",children:"Medium Priority"}),e.jsx("option",{value:"low",children:"Low Priority"})]}),e.jsxs("button",{onClick:()=>i(!0),className:"flex items-center space-x-2 bg-gradient-to-r from-purple-600 to-pink-600 text-white px-6 py-3 rounded-xl hover:from-purple-700 hover:to-pink-700 transition-all duration-200 shadow-lg",children:[e.jsx(je,{className:"w-5 h-5"}),e.jsx("span",{children:"Add Task"})]})]})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:E.length>0?E.map(h=>e.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl border border-white/20 shadow-lg p-6 hover:shadow-xl transition-all duration-300 group",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>d(h.id,{status:h.status==="completed"?"todo":"completed"}),className:`p-1 rounded-full transition-colors ${h.status==="completed"?"text-green-600 bg-green-100":"text-gray-400 hover:text-green-600"}`,children:h.status==="completed"?e.jsx(ye,{className:"w-5 h-5"}):e.jsx(Ke,{className:"w-5 h-5"})}),e.jsx("span",{className:`px-2 py-1 rounded-lg text-xs font-medium ${R(h.priority)}`,children:h.priority.toUpperCase()})]}),e.jsxs("div",{className:"flex space-x-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsx("button",{onClick:()=>{var A;c(h),g({title:h.title,description:h.description||"",deadline:h.deadline?h.deadline.toISOString().split("T")[0]:"",priority:h.priority,subject:h.subject,status:h.status,estimatedTime:((A=h.estimatedTime)==null?void 0:A.toString())||""}),i(!0)},className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:e.jsx(nr,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>P(h.id),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:e.jsx(mr,{className:"w-4 h-4"})})]})]}),e.jsx("h3",{className:`font-semibold text-lg mb-2 ${h.status==="completed"?"line-through text-gray-500":"text-gray-900"}`,children:h.title}),h.description&&e.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:h.description}),e.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[e.jsx("span",{className:`px-2 py-1 rounded-lg text-xs font-medium ${I(h.subject)}`,children:h.subject}),h.estimatedTime&&e.jsxs("span",{className:"px-2 py-1 rounded-lg text-xs font-medium bg-gray-100 text-gray-800 flex items-center",children:[e.jsx(te,{className:"w-3 h-3 mr-1"}),h.estimatedTime,"m"]})]}),h.deadline&&e.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[e.jsx(De,{className:"w-4 h-4 mr-1"}),new Date(h.deadline).toLocaleDateString()]})]},h.id)):e.jsx("div",{className:"col-span-full",children:e.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl border border-white/20 shadow-lg p-12 text-center",children:[e.jsx("div",{className:"text-gray-400 text-6xl mb-4",children:"📝"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No tasks found"}),e.jsx("p",{className:"text-gray-600 mb-6",children:x||m!=="all"||w!=="all"?"Try adjusting your filters or search terms":"Create your first task to get started!"}),!x&&m==="all"&&w==="all"&&e.jsx("button",{onClick:()=>i(!0),className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white px-6 py-3 rounded-xl hover:from-purple-700 hover:to-pink-700 transition-all duration-200",children:"Create Your First Task"})]})})}),l&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:e.jsx("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6",children:u?"Edit Task":"Create New Task"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title *"}),e.jsx("input",{type:"text",value:f.title,onChange:h=>g({...f,title:h.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Enter task title..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),e.jsx("textarea",{value:f.description,onChange:h=>g({...f,description:h.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",rows:3,placeholder:"Enter task description..."})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority"}),e.jsxs("select",{value:f.priority,onChange:h=>g({...f,priority:h.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[e.jsx("option",{value:"low",children:"Low"}),e.jsx("option",{value:"medium",children:"Medium"}),e.jsx("option",{value:"high",children:"High"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),e.jsxs("select",{value:f.status,onChange:h=>g({...f,status:h.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[e.jsx("option",{value:"todo",children:"To Do"}),e.jsx("option",{value:"in-progress",children:"In Progress"}),e.jsx("option",{value:"completed",children:"Completed"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subject/Category"}),e.jsx("input",{type:"text",value:f.subject,onChange:h=>g({...f,subject:h.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"e.g., Math, Science, Personal..."})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Due Date"}),e.jsx("input",{type:"date",value:f.deadline,onChange:h=>g({...f,deadline:h.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Estimated Time (min)"}),e.jsx("input",{type:"number",value:f.estimatedTime,onChange:h=>g({...f,estimatedTime:h.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"30"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-8",children:[e.jsx("button",{onClick:()=>{i(!1),y()},className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:u?()=>{d(u.id,{title:f.title,description:f.description||void 0,deadline:f.deadline?new Date(f.deadline):void 0,priority:f.priority,subject:f.subject||"General",status:f.status,estimatedTime:f.estimatedTime?parseInt(f.estimatedTime):void 0}),i(!1),y()}:k,disabled:!f.title.trim(),className:"px-4 py-2 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-lg hover:from-purple-700 hover:to-pink-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:u?"Update Task":"Create Task"})]})]})})})]})},Rr=()=>e.jsxs("div",{className:"p-4",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Calendar"}),e.jsx("p",{children:"This is the calendar view page."})]}),Ir=()=>{const{user:t}=z(),[s,a]=o.useState([]),[r,n]=o.useState(null),[l,i]=o.useState([]),[u,c]=o.useState(""),[x,p]=o.useState(!1),[m,v]=o.useState(!0),w=o.useRef(null);o.useEffect(()=>{t&&N()},[t]),o.useEffect(()=>{S()},[l]);const S=()=>{var y;(y=w.current)==null||y.scrollIntoView({behavior:"smooth"})},N=async()=>{if(t)try{const y=ve(G(M,"chatSessions"),Ne("userId","==",t.uid),we("updatedAt","desc")),D=(await ke(y)).docs.map(R=>{var I,h,A;return{id:R.id,...R.data(),createdAt:(I=R.data().createdAt)==null?void 0:I.toDate(),updatedAt:(h=R.data().updatedAt)==null?void 0:h.toDate(),messages:((A=R.data().messages)==null?void 0:A.map(U=>{var q;return{...U,timestamp:(q=U.timestamp)==null?void 0:q.toDate()}}))||[]}});a(D)}catch(y){console.error("Error loading chat sessions:",y)}},j=async()=>{if(!t)return;const y={title:"New Chat",messages:[],createdAt:new Date,updatedAt:new Date};try{const E=await Se(G(M,"chatSessions"),{...y,userId:t.uid}),D={...y,id:E.id};a(R=>[D,...R]),n(D),i([])}catch(E){console.error("Error creating new session:",E)}},f=async(y,E)=>{try{const D=H(M,"chatSessions",y);await le(D,{title:E,updatedAt:new Date}),a(R=>R.map(I=>I.id===y?{...I,title:E}:I))}catch(D){console.error("Error updating session title:",D)}},g=async(y,E)=>{try{const D=H(M,"chatSessions",y);await le(D,{messages:E,updatedAt:new Date}),a(R=>R.map(I=>I.id===y?{...I,messages:E,updatedAt:new Date}:I))}catch(D){console.error("Error saving session messages:",D)}},b=async()=>{if(!u.trim()||x||!t)return;let y=r;if(!y){await j();return}const E={id:Date.now().toString(),content:u.trim(),role:"user",timestamp:new Date},D=[...l,E];i(D),c(""),p(!0);try{if(D.length===1){const A=u.trim().slice(0,50)+(u.length>50?"...":"");await f(y.id,A)}const R=await gt(u),I={id:(Date.now()+1).toString(),content:R,role:"assistant",timestamp:new Date},h=[...D,I];i(h),await g(y.id,h)}catch(R){console.error("Error getting AI response:",R);const I={id:(Date.now()+1).toString(),content:"Sorry, I encountered an error. Please try again.",role:"assistant",timestamp:new Date},h=[...D,I];i(h)}finally{p(!1)}},k=y=>{n(y),i(y.messages)},d=y=>{navigator.clipboard.writeText(y)},P=y=>y.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/\*(.*?)\*/g,"<em>$1</em>").replace(/`(.*?)`/g,'<code class="bg-gray-200 px-1 rounded">$1</code>');return t?e.jsxs("div",{className:"h-screen flex bg-gray-50",children:[e.jsxs("div",{className:`${m?"w-80":"w-16"} bg-gray-900 text-white transition-all duration-300 flex flex-col`,children:[e.jsxs("div",{className:"p-4 border-b border-gray-700",children:[e.jsx("button",{onClick:()=>v(!m),className:"text-gray-400 hover:text-white mb-4",children:e.jsx(rr,{className:"w-6 h-6"})}),m&&e.jsxs("button",{onClick:j,className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 px-4 py-3 rounded-lg font-medium transition-all duration-200 flex items-center justify-center space-x-2",children:[e.jsx(he,{className:"w-5 h-5"}),e.jsx("span",{children:"New Chat"})]})]}),m&&e.jsx("div",{className:"flex-1 overflow-y-auto",children:e.jsx("div",{className:"p-2",children:s.map(y=>{var E;return e.jsxs("button",{onClick:()=>k(y),className:`w-full text-left p-3 rounded-lg mb-2 transition-colors ${(r==null?void 0:r.id)===y.id?"bg-gray-700 text-white":"text-gray-300 hover:bg-gray-800"}`,children:[e.jsx("div",{className:"truncate font-medium",children:y.title}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:(E=y.updatedAt)==null?void 0:E.toLocaleDateString()})]},y.id)})})})]}),e.jsxs("div",{className:"flex-1 flex flex-col",children:[e.jsx("div",{className:"bg-white border-b border-gray-200 p-4",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[e.jsx(he,{className:"w-7 h-7 text-purple-600 mr-2"}),"AI Study Assistant"]}),e.jsx("p",{className:"text-gray-600",children:"Your intelligent study companion"})]})})}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[l.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center",children:[e.jsx(he,{className:"w-16 h-16 text-purple-600 mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"How can I help you study today?"}),e.jsx("p",{className:"text-gray-600 max-w-md",children:"Ask me anything about your studies, get help with homework, create study plans, or just chat about your academic goals!"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-8 max-w-2xl",children:[e.jsx("button",{onClick:()=>c("Help me create a study schedule for my upcoming exams"),className:"p-4 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-lg hover:from-blue-600 hover:to-purple-700 transition-all",children:"📅 Create Study Schedule"}),e.jsx("button",{onClick:()=>c("Give me some motivation to start studying"),className:"p-4 bg-gradient-to-r from-green-500 to-blue-600 text-white rounded-lg hover:from-green-600 hover:to-blue-700 transition-all",children:"💪 Get Motivated"}),e.jsx("button",{onClick:()=>c("Explain the Pomodoro technique for better focus"),className:"p-4 bg-gradient-to-r from-yellow-500 to-orange-600 text-white rounded-lg hover:from-yellow-600 hover:to-orange-700 transition-all",children:"🍅 Learn Pomodoro"}),e.jsx("button",{onClick:()=>c("Help me break down a complex topic into smaller parts"),className:"p-4 bg-gradient-to-r from-pink-500 to-red-600 text-white rounded-lg hover:from-pink-600 hover:to-red-700 transition-all",children:"🧩 Break Down Topics"})]})]}):e.jsxs(e.Fragment,{children:[l.map(y=>{var E;return e.jsx("div",{className:`flex ${y.role==="user"?"justify-end":"justify-start"}`,children:e.jsx("div",{className:`max-w-3xl ${y.role==="user"?"order-2":"order-1"}`,children:e.jsxs("div",{className:`p-4 rounded-lg ${y.role==="user"?"bg-gradient-to-r from-purple-600 to-pink-600 text-white":"bg-white border border-gray-200 text-gray-900"}`,children:[e.jsx("div",{dangerouslySetInnerHTML:{__html:P(y.content)},className:"prose prose-sm max-w-none"}),e.jsxs("div",{className:"flex items-center justify-between mt-3 pt-2 border-t border-gray-300/30",children:[e.jsx("span",{className:`text-xs ${y.role==="user"?"text-purple-200":"text-gray-500"}`,children:(E=y.timestamp)==null?void 0:E.toLocaleTimeString()}),e.jsx("button",{onClick:()=>d(y.content),className:`p-1 rounded hover:bg-gray-200/20 ${y.role==="user"?"text-purple-200":"text-gray-500"}`,children:e.jsx(er,{className:"w-4 h-4"})})]})]})})},y.id)}),x&&e.jsx("div",{className:"flex justify-start",children:e.jsx("div",{className:"bg-white border border-gray-200 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("div",{className:"flex space-x-1",children:[e.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),e.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),e.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]}),e.jsx("span",{className:"text-gray-500 text-sm",children:"AI is thinking..."})]})})})]}),e.jsx("div",{ref:w})]}),e.jsx("div",{className:"bg-white border-t border-gray-200 p-4",children:e.jsxs("div",{className:"flex items-end space-x-4",children:[e.jsx("div",{className:"flex-1",children:e.jsx("textarea",{value:u,onChange:y=>c(y.target.value),onKeyDown:y=>{y.key==="Enter"&&!y.shiftKey&&(y.preventDefault(),b())},placeholder:"Ask me anything about your studies...",className:"w-full p-3 border border-gray-300 rounded-lg resize-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",rows:1,style:{minHeight:"44px",maxHeight:"120px"}})}),e.jsx("button",{onClick:b,disabled:!u.trim()||x,className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 disabled:opacity-50 disabled:cursor-not-allowed text-white p-3 rounded-lg transition-all duration-200 flex items-center justify-center",children:e.jsx(ir,{className:"w-5 h-5"})})]})})]})]}):e.jsx("div",{className:"h-full flex items-center justify-center",children:e.jsx("p",{className:"text-gray-500",children:"Please log in to use the AI Assistant"})})},Ar=()=>e.jsxs("div",{className:"p-4",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Settings"}),e.jsx("p",{className:"mt-2",children:"This is the settings page where you can configure your preferences."})]}),Mr=()=>{const[t,s]=o.useState(!1),[a,r]=o.useState(""),[n,l]=o.useState(""),[i,u]=o.useState(""),[c,x]=o.useState(""),[p,m]=o.useState(!1),[v,w]=o.useState(null),[S,N]=o.useState(!1),[j,f]=o.useState(""),g=de(),b=async()=>{try{m(!0),w(null);const d=await yr();d&&(f(d.displayName||"User"),N(!0),setTimeout(()=>{g("/dashboard")},2e3))}catch(d){w(d.message||"Failed to sign in with Google")}finally{m(!1)}},k=async d=>{var P;if(d.preventDefault(),w(null),t&&n!==i){w("Passwords do not match");return}if(n.length<6){w("Password must be at least 6 characters");return}try{m(!0);let y;if(t?y=await jr(a,n):y=await br(a,n),y){const E=t?c:y.displayName||((P=y.email)==null?void 0:P.split("@")[0]);f(E||"User"),N(!0),setTimeout(()=>{g("/dashboard")},2e3)}}catch(y){w(y.message||`Failed to ${t?"sign up":"sign in"}`)}finally{m(!1)}};return S?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 flex items-center justify-center",children:e.jsxs("div",{className:"text-center text-white",children:[e.jsx("div",{className:"mb-8",children:e.jsx(be,{className:"w-24 h-24 mx-auto text-green-400 animate-bounce"})}),e.jsxs("h1",{className:"text-4xl font-bold mb-4",children:["Welcome ",j,"! 🎉"]}),e.jsx("p",{className:"text-xl text-blue-200",children:"Your productivity journey starts now..."}),e.jsx("div",{className:"mt-8",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white mx-auto"})})]})}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 flex",children:[e.jsx("div",{className:"hidden lg:flex lg:w-1/2 flex-col justify-center items-center text-white p-12",children:e.jsxs("div",{className:"max-w-md",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-pink-500 to-purple-600 rounded-xl flex items-center justify-center mb-4",children:e.jsx(Zs,{className:"w-8 h-8 text-white"})}),e.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-pink-400 to-purple-400 bg-clip-text text-transparent",children:"StudyFlow"}),e.jsx("p",{className:"text-2xl font-semibold text-blue-200 mt-2",children:"The Ultimate Gen Z Study Planner"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Le,{className:"w-6 h-6 text-green-400"}),e.jsx("span",{className:"text-lg",children:"Track your productivity with smart analytics"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(ut,{className:"w-6 h-6 text-yellow-400"}),e.jsx("span",{className:"text-lg",children:"AI-powered study assistant"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(be,{className:"w-6 h-6 text-blue-400"}),e.jsx("span",{className:"text-lg",children:"Pomodoro timer & task management"})]})]}),e.jsxs("div",{className:"mt-12 p-6 bg-white/10 backdrop-blur-sm rounded-xl border border-white/20",children:[e.jsx("p",{className:"text-sm text-blue-200 italic",children:'"This app helped me boost my productivity by 300% and get into my dream university!"'}),e.jsx("p",{className:"text-xs text-blue-300 mt-2",children:"- Sarah, Stanford University"})]})]})}),e.jsx("div",{className:"flex-1 flex items-center justify-center p-8",children:e.jsxs("div",{className:"max-w-md w-full",children:[e.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl p-8 border border-white/20 shadow-2xl",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:t?"Create Account":"Welcome Back"}),e.jsx("p",{className:"text-blue-200",children:t?"Start your productivity journey":"Continue your success story"})]}),v&&e.jsx("div",{className:"mb-6 p-4 bg-red-500/20 border border-red-500/50 rounded-lg",children:e.jsx("p",{className:"text-red-200 text-sm",children:v})}),e.jsxs("form",{onSubmit:k,className:"space-y-6",children:[t&&e.jsx("div",{children:e.jsx("input",{type:"text",placeholder:"Full Name",value:c,onChange:d=>x(d.target.value),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-blue-200 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",required:!0})}),e.jsx("div",{children:e.jsx("input",{type:"email",placeholder:"Email Address",value:a,onChange:d=>r(d.target.value),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-blue-200 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",required:!0})}),e.jsx("div",{children:e.jsx("input",{type:"password",placeholder:"Password",value:n,onChange:d=>l(d.target.value),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-blue-200 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",required:!0})}),t&&e.jsx("div",{children:e.jsx("input",{type:"password",placeholder:"Confirm Password",value:i,onChange:d=>u(d.target.value),className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg text-white placeholder-blue-200 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",required:!0})}),e.jsx("button",{type:"submit",disabled:p,className:"w-full py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white font-semibold rounded-lg hover:from-purple-700 hover:to-pink-700 transform transition-all duration-200 hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed",children:p?e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),t?"Creating Account...":"Signing In..."]}):t?"Create Account":"Sign In"})]}),e.jsxs("div",{className:"my-6 flex items-center",children:[e.jsx("div",{className:"flex-1 border-t border-white/20"}),e.jsx("span",{className:"px-4 text-blue-200 text-sm",children:"or"}),e.jsx("div",{className:"flex-1 border-t border-white/20"})]}),e.jsxs("button",{onClick:b,disabled:p,className:"w-full py-3 bg-white text-gray-800 font-semibold rounded-lg hover:bg-gray-100 transform transition-all duration-200 hover:scale-105 flex items-center justify-center space-x-2 disabled:opacity-50",children:[e.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[e.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),e.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),e.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),e.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),e.jsx("span",{children:"Continue with Google"})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsx("button",{onClick:()=>s(!t),className:"text-blue-200 hover:text-white transition-colors",children:t?"Already have an account? Sign In":"Don't have an account? Sign Up"})})]}),e.jsxs("div",{className:"lg:hidden text-center mt-8 text-white",children:[e.jsx("h3",{className:"text-xl font-bold bg-gradient-to-r from-pink-400 to-purple-400 bg-clip-text text-transparent",children:"StudyFlow"}),e.jsx("p",{className:"text-blue-200 text-sm mt-1",children:"The Ultimate Gen Z Study Planner"})]})]})})]})},Br=()=>{const{user:t}=z(),[s,a]=o.useState(!1),[r,n]=o.useState(!1),[l,i]=o.useState(25*60),[u,c]=o.useState("work"),[x,p]=o.useState(0),[m,v]=o.useState(null),[w,S]=o.useState([]),[N,j]=o.useState(null),[f,g]=o.useState(25),[b,k]=o.useState(5),[d,P]=o.useState(15),[y,E]=o.useState(4),[D,R]=o.useState(!1);o.useEffect(()=>{t&&I()},[t]),o.useEffect(()=>{let T;return s&&!r&&(T=setInterval(()=>{i(F=>F<=1?(q(),0):F-1)},1e3)),()=>clearInterval(T)},[s,r]);const I=async()=>{try{const F=(await ue(t.uid)).filter(Q=>Q.status!=="completed");S(F)}catch(T){console.error("Error loading tasks:",T)}},h=async()=>{if(!s){const T=await Pr({userId:t.uid,taskId:m==null?void 0:m.id,type:u,duration:u==="work"?f:x%y===0&&x>0?d:b,startTime:new Date,completed:!1});j(T)}a(!0),n(!1)},A=()=>{n(!r)},U=async()=>{a(!1),n(!1),N&&await Ye(N,{endTime:new Date,completed:!1}),yt()},q=async()=>{if(a(!1),n(!1),N&&await Ye(N,{endTime:new Date,completed:!0}),u==="work"){p(F=>F+1);const T=(x+1)%y===0;c("break"),i(T?d*60:b*60)}else c("work"),i(f*60);re()},re=()=>{Notification.permission==="granted"&&new Notification(`${u==="work"?"Work":"Break"} session completed!`,{body:`Time for a ${u==="work"?"break":"work session"}`,icon:"/favicon.ico"})},ft=()=>{q()},yt=()=>{i(u==="work"?f*60:b*60)},bt=T=>{const F=Math.floor(T/60),Q=T%60;return`${F.toString().padStart(2,"0")}:${Q.toString().padStart(2,"0")}`},jt=u==="work"?(f*60-l)/(f*60)*100:(b*60-l)/(b*60)*100;return o.useEffect(()=>{Notification.permission==="default"&&Notification.requestPermission()},[]),e.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Pomodoro Timer"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Stay focused and productive"})]}),e.jsx("button",{onClick:()=>R(!D),className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(dt,{className:"w-6 h-6"})})]}),D&&e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Timer Settings"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Work Duration (min)"}),e.jsx("input",{type:"number",min:"1",max:"60",value:f,onChange:T=>g(parseInt(T.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Break Duration (min)"}),e.jsx("input",{type:"number",min:"1",max:"30",value:b,onChange:T=>k(parseInt(T.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Long Break (min)"}),e.jsx("input",{type:"number",min:"1",max:"60",value:d,onChange:T=>P(parseInt(T.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sessions Until Long Break"}),e.jsx("input",{type:"number",min:"2",max:"8",value:y,onChange:T=>E(parseInt(T.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-sm border text-center",children:[e.jsx("div",{className:"mb-6",children:e.jsx("span",{className:`inline-block px-4 py-2 rounded-full text-sm font-medium ${u==="work"?"bg-red-100 text-red-800":"bg-green-100 text-green-800"}`,children:u==="work"?"Work Session":"Break Time"})}),e.jsxs("div",{className:"mb-8",children:[e.jsx("div",{className:"text-6xl font-bold text-gray-900 mb-4",children:bt(l)}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full transition-all duration-1000 ${u==="work"?"bg-red-500":"bg-green-500"}`,style:{width:`${jt}%`}})})]}),e.jsxs("div",{className:"flex justify-center space-x-4",children:[e.jsxs("button",{onClick:s?A:h,className:`flex items-center space-x-2 px-6 py-3 rounded-lg font-medium transition-colors ${s?"bg-yellow-500 text-white hover:bg-yellow-600":"bg-blue-600 text-white hover:bg-blue-700"}`,children:[s?r?e.jsx(Je,{className:"w-5 h-5"}):e.jsx(ar,{className:"w-5 h-5"}):e.jsx(Je,{className:"w-5 h-5"}),e.jsx("span",{children:s?r?"Resume":"Pause":"Start"})]}),e.jsxs("button",{onClick:U,disabled:!s,className:"flex items-center space-x-2 px-6 py-3 bg-gray-500 text-white rounded-lg hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[e.jsx(cr,{className:"w-5 h-5"}),e.jsx("span",{children:"Stop"})]}),e.jsxs("button",{onClick:ft,disabled:!s,className:"flex items-center space-x-2 px-6 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[e.jsx(or,{className:"w-5 h-5"}),e.jsx("span",{children:"Skip"})]})]})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Link to Task"}),e.jsxs("select",{value:(m==null?void 0:m.id)||"",onChange:T=>{const F=w.find(Q=>Q.id===T.target.value);v(F||null)},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"No task selected"}),w.map(T=>e.jsx("option",{value:T.id,children:T.title},T.id))]}),m&&e.jsxs("div",{className:"mt-3 p-3 bg-blue-50 rounded-lg",children:[e.jsx("p",{className:"text-sm font-medium text-blue-900",children:m.title}),e.jsx("p",{className:"text-xs text-blue-700 mt-1",children:m.subject})]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Session Stats"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Sessions Today"}),e.jsx("span",{className:"font-medium",children:x})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Current Session"}),e.jsx("span",{className:"font-medium",children:u==="work"?"Work":"Break"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Next Break"}),e.jsx("span",{className:"font-medium",children:u==="work"?"After this session":"In progress"})]})]})]})]})]})]})},Ur=()=>{const{user:t}=z(),[s,a]=o.useState([]),[r,n]=o.useState([]),[l,i]=o.useState(!0),[u,c]=o.useState("week");o.useEffect(()=>{t&&x()},[t]);const x=async()=>{try{i(!0);const[g,b]=await Promise.all([ue(t.uid),pt(t.uid)]);a(g),n(b)}catch(g){console.error("Error loading analytics data:",g)}finally{i(!1)}},p={total:s.length,completed:s.filter(g=>g.status==="completed").length,inProgress:s.filter(g=>g.status==="in-progress").length,todo:s.filter(g=>g.status==="todo").length},m=p.total>0?p.completed/p.total*100:0,v=r.filter(g=>g.completed&&g.type==="work").reduce((g,b)=>g+b.duration,0),w=r.filter(g=>g.completed).length,S=()=>Array.from({length:7},(b,k)=>{const d=new Date;return d.setDate(d.getDate()-k),d.toISOString().split("T")[0]}).reverse().map(b=>{const k=s.filter(d=>d.status==="completed"&&d.updatedAt&&new Date(d.updatedAt).toISOString().split("T")[0]===b).length;return{date:new Date(b).toLocaleDateString("en-US",{weekday:"short"}),completed:k}}),N=()=>Array.from({length:7},(b,k)=>{const d=new Date;return d.setDate(d.getDate()-k),d.toISOString().split("T")[0]}).reverse().map(b=>{const k=r.filter(d=>d.completed&&d.type==="work"&&d.startTime&&new Date(d.startTime).toISOString().split("T")[0]===b).reduce((d,P)=>d+P.duration,0);return{date:new Date(b).toLocaleDateString("en-US",{weekday:"short"}),minutes:k}}),j=()=>{const g=s.reduce((k,d)=>{const P=d.subject||"Uncategorized";return k[P]=(k[P]||0)+1,k},{}),b=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#06B6D4"];return Object.entries(g).map(([k,d],P)=>({name:k,value:d,color:b[P%b.length]}))},f=()=>{const g=s.reduce((b,k)=>(b[k.priority]=(b[k.priority]||0)+1,b),{});return[{name:"High",value:g.high||0,color:"#EF4444"},{name:"Medium",value:g.medium||0,color:"#F59E0B"},{name:"Low",value:g.low||0,color:"#10B981"}]};return l?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):t?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Analytics"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Track your productivity and progress"})]}),e.jsxs("select",{value:u,onChange:g=>c(g.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"week",children:"Last 7 Days"}),e.jsx("option",{value:"month",children:"Last 30 Days"}),e.jsx("option",{value:"year",children:"Last Year"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(be,{className:"w-6 h-6 text-blue-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Tasks Completed"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:p.completed})]})]})}),e.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:e.jsx(Le,{className:"w-6 h-6 text-green-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Completion Rate"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[m.toFixed(1),"%"]})]})]})}),e.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:e.jsx(te,{className:"w-6 h-6 text-purple-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Focus Time"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[Math.floor(v/60),"h ",v%60,"m"]})]})]})}),e.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:e.jsx(mt,{className:"w-6 h-6 text-orange-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Pomodoro Sessions"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:w})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Daily Task Completion"}),e.jsx(ae,{width:"100%",height:300,children:e.jsxs(Ut,{data:S(),children:[e.jsx(Re,{strokeDasharray:"3 3"}),e.jsx(Ie,{dataKey:"date"}),e.jsx(Ae,{}),e.jsx(ne,{}),e.jsx(Ft,{dataKey:"completed",fill:"#3B82F6"})]})})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Daily Focus Time"}),e.jsx(ae,{width:"100%",height:300,children:e.jsxs(Ot,{data:N(),children:[e.jsx(Re,{strokeDasharray:"3 3"}),e.jsx(Ie,{dataKey:"date"}),e.jsx(Ae,{}),e.jsx(ne,{formatter:g=>[`${g} minutes`,"Focus Time"]}),e.jsx($t,{type:"monotone",dataKey:"minutes",stroke:"#10B981",strokeWidth:2})]})})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Tasks by Subject"}),j().length>0?e.jsx(ae,{width:"100%",height:300,children:e.jsxs(Me,{children:[e.jsx(Be,{data:j(),cx:"50%",cy:"50%",labelLine:!1,label:({name:g,percent:b})=>`${g} ${(b*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:j().map((g,b)=>e.jsx(Ue,{fill:g.color},`cell-${b}`))}),e.jsx(ne,{})]})}):e.jsx("div",{className:"flex items-center justify-center h-72 text-gray-500",children:"No tasks to display"})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Tasks by Priority"}),f().some(g=>g.value>0)?e.jsx(ae,{width:"100%",height:300,children:e.jsxs(Me,{children:[e.jsx(Be,{data:f(),cx:"50%",cy:"50%",labelLine:!1,label:({name:g,percent:b})=>`${g} ${(b*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:f().map((g,b)=>e.jsx(Ue,{fill:g.color},`cell-${b}`))}),e.jsx(ne,{})]})}):e.jsx("div",{className:"flex items-center justify-center h-72 text-gray-500",children:"No tasks to display"})]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Detailed Statistics"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Task Status Breakdown"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"To Do"}),e.jsx("span",{className:"font-medium",children:p.todo})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"In Progress"}),e.jsx("span",{className:"font-medium",children:p.inProgress})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Completed"}),e.jsx("span",{className:"font-medium",children:p.completed})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Focus Statistics"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Total Sessions"}),e.jsx("span",{className:"font-medium",children:w})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Average Session"}),e.jsxs("span",{className:"font-medium",children:[w>0?Math.round(v/w):0," min"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Total Focus Time"}),e.jsxs("span",{className:"font-medium",children:[Math.floor(v/60),"h ",v%60,"m"]})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Productivity Insights"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Avg. Tasks/Day"}),e.jsx("span",{className:"font-medium",children:(p.completed/7).toFixed(1)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Avg. Focus/Day"}),e.jsxs("span",{className:"font-medium",children:[Math.round(v/7)," min"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Completion Rate"}),e.jsxs("span",{className:"font-medium",children:[m.toFixed(1),"%"]})]})]})]})]})]})]}):e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("p",{className:"text-gray-500",children:"Please log in to view analytics"})})},Fr=({children:t})=>{const{user:s,loading:a}=z();return a?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):s?e.jsx(e.Fragment,{children:t}):e.jsx(ct,{to:"/login"})},Or=()=>e.jsx(qs,{children:e.jsxs(ze,{children:[e.jsx(B,{path:"/login",element:e.jsx(Mr,{})}),e.jsx(B,{path:"/*",element:e.jsx(Fr,{children:e.jsx(kr,{children:e.jsxs(ze,{children:[e.jsx(B,{path:"/",element:e.jsx(ct,{to:"/dashboard"})}),e.jsx(B,{path:"/dashboard",element:e.jsx(Dr,{})}),e.jsx(B,{path:"/tasks",element:e.jsx(Lr,{})}),e.jsx(B,{path:"/calendar",element:e.jsx(Rr,{})}),e.jsx(B,{path:"/pomodoro",element:e.jsx(Br,{})}),e.jsx(B,{path:"/analytics",element:e.jsx(Ur,{})}),e.jsx(B,{path:"/ai-assistant",element:e.jsx(Ir,{})}),e.jsx(B,{path:"/settings",element:e.jsx(Ar,{})})]})})})})]})}),$r=xe.createRoot(document.getElementById("root"));$r.render(e.jsx(Nt.StrictMode,{children:e.jsx(Or,{})}));
