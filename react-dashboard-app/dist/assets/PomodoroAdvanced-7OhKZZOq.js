import{r as e,j as s,b6 as a,aO as r,b7 as t,b8 as o,aw as l,Z as n,aq as V,b9 as d,ba as i,aG as c}from"./react-vendor-9sUWUj8V.js";import{c as x,b as m}from"./index-OjRGQQ76.js";import{a as u}from"./firestore-BtTgkdPP.js";const g=()=>{const{user:g}=x(),{success:h,info:k}=m(),[b,p]=e.useState({workDuration:25,shortBreak:5,longBreak:15,sessionsUntilLongBreak:4,autoStartBreaks:!0,autoStartPomodoros:!1,soundEnabled:!0,volume:50}),[j,y]=e.useState("work"),[f,w]=e.useState(60*b.workDuration),[N,A]=e.useState(!1),[v,B]=e.useState(0),[S,T]=e.useState({sessionsToday:0,totalFocusTime:0,completedSessions:0,streak:0}),[D,C]=e.useState(!1),[E,F]=e.useState(""),[I,R]=e.useState(""),U=e.useRef(null),z=e.useRef(null);e.useEffect(()=>{const e="work"===j?b.workDuration:"shortBreak"===j?b.shortBreak:b.longBreak;w(60*e)},[j,b]),e.useEffect(()=>(N&&f>0?U.current=setInterval(()=>{w(e=>e-1)},1e3):0===f&&L(),()=>{U.current&&clearInterval(U.current)}),[N,f]);const L=e.useCallback(async()=>{if(A(!1),b.soundEnabled&&M(),g&&"work"===j)try{await u({userId:g.uid,duration:b.workDuration,type:"work",startTime:new Date(Date.now()-60*b.workDuration*1e3),endTime:new Date,completed:!0,taskId:E||void 0}),T(e=>({...e,sessionsToday:e.sessionsToday+1,totalFocusTime:e.totalFocusTime+b.workDuration,completedSessions:e.completedSessions+1,streak:e.streak+1}))}catch(e){console.error("Error saving pomodoro session:",e)}if("work"===j){B(e=>e+1);const e=(v+1)%b.sessionsUntilLongBreak===0?"longBreak":"shortBreak";h("🎉 Work Session Complete!",`Great job! Time for a ${"longBreak"===e?"long":"short"} break.`),y(e),b.autoStartBreaks&&setTimeout(()=>A(!0),1e3)}else k("☕ Break Complete!","Ready to get back to work? Let's focus!"),y("work"),b.autoStartPomodoros&&setTimeout(()=>A(!0),1e3)},[j,v,b,g,E,h,k]),M=()=>{z.current&&(z.current.volume=b.volume/100,z.current.play().catch(console.error))},Q=()=>{switch(j){case"work":return"from-red-500 to-red-600";case"shortBreak":return"from-green-500 to-green-600";case"longBreak":return"from-blue-500 to-blue-600"}};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 via-orange-50 to-yellow-50 dark:from-red-900 dark:via-orange-900 dark:to-yellow-900 p-4 sm:p-6 lg:p-8",children:s.jsxs("div",{className:"max-w-6xl mx-auto space-y-8",children:[s.jsxs("div",{className:"text-center mb-8","data-aos":"fade-down",children:[s.jsx("h1",{className:"text-4xl md:text-5xl font-bold bg-gradient-to-r from-red-600 via-orange-600 to-yellow-600 bg-clip-text text-transparent mb-4",children:"Pomodoro Focus Timer"}),s.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300 max-w-2xl mx-auto",children:"Boost your productivity with the proven Pomodoro Technique! 🍅"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsx("div",{className:"lg:col-span-2",children:s.jsxs("div",{className:"glass rounded-3xl p-8 border border-white/20 text-center","data-aos":"zoom-in",children:[s.jsxs("div",{className:"flex items-center justify-center gap-3 mb-6",children:[s.jsx("div",{className:`p-3 rounded-2xl bg-gradient-to-r ${Q()} text-white`,children:(()=>{switch(j){case"work":return s.jsx(V,{className:"w-8 h-8"});case"shortBreak":return s.jsx(c,{className:"w-8 h-8"});case"longBreak":return s.jsx(n,{className:"w-8 h-8"})}})()}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white capitalize",children:"shortBreak"===j?"Short Break":"longBreak"===j?"Long Break":"Focus Time"}),s.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["Session ",v+1]})]})]}),s.jsx("div",{className:"relative mb-8",children:s.jsxs("div",{className:"relative w-80 h-80 mx-auto",children:[s.jsxs("svg",{className:"w-full h-full transform -rotate-90",viewBox:"0 0 100 100",children:[s.jsx("circle",{cx:"50",cy:"50",r:"45",stroke:"currentColor",strokeWidth:"8",fill:"none",className:"text-gray-200 dark:text-gray-700"}),s.jsx("circle",{cx:"50",cy:"50",r:"45",stroke:"url(#gradient)",strokeWidth:"8",fill:"none",strokeLinecap:"round",strokeDasharray:2.827*(()=>{const e="work"===j?b.workDuration:"shortBreak"===j?b.shortBreak:b.longBreak;return(60*e-f)/(60*e)*100})()+" 282.7",className:"transition-all duration-1000 ease-out"}),s.jsx("defs",{children:s.jsxs("linearGradient",{id:"gradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[s.jsx("stop",{offset:"0%",className:""+("work"===j?"stop-red-500":"shortBreak"===j?"stop-green-500":"stop-blue-500")}),s.jsx("stop",{offset:"100%",className:""+("work"===j?"stop-red-600":"shortBreak"===j?"stop-green-600":"stop-blue-600")})]})})]}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-6xl font-bold text-gray-900 dark:text-white mb-2 font-mono",children:(e=>{const s=e%60;return`${Math.floor(e/60).toString().padStart(2,"0")}:${s.toString().padStart(2,"0")}`})(f)}),s.jsxs("div",{className:"text-lg text-gray-600 dark:text-gray-400",children:[Math.ceil(f/60)," minutes left"]})]})})]})}),s.jsxs("div",{className:"flex items-center justify-center gap-4 mb-6",children:[s.jsx("button",{onClick:()=>{A(!N)},className:`p-4 rounded-2xl text-white font-semibold hover:scale-110 transition-all duration-200 shadow-lg bg-gradient-to-r ${Q()}`,children:N?s.jsx(a,{className:"w-8 h-8"}):s.jsx(r,{className:"w-8 h-8"})}),s.jsx("button",{onClick:()=>{A(!1);const e="work"===j?b.workDuration:"shortBreak"===j?b.shortBreak:b.longBreak;w(60*e)},className:"p-4 rounded-2xl bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:scale-110 transition-all duration-200",children:s.jsx(t,{className:"w-6 h-6"})}),s.jsx("button",{onClick:()=>{w(0)},className:"p-4 rounded-2xl bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:scale-110 transition-all duration-200",children:s.jsx(o,{className:"w-6 h-6"})}),s.jsx("button",{onClick:()=>C(!D),className:"p-4 rounded-2xl bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:scale-110 transition-all duration-200",children:s.jsx(l,{className:"w-6 h-6"})})]}),I&&s.jsx("div",{className:"p-4 rounded-2xl bg-gradient-to-r from-purple-100 to-pink-100 dark:from-purple-900/30 dark:to-pink-900/30 border border-purple-200 dark:border-purple-700",children:s.jsxs("p",{className:"text-purple-800 dark:text-purple-200 font-medium",children:["🎯 Current Goal: ",I]})})]})}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"glass rounded-3xl p-6 border border-white/20","data-aos":"fade-up",children:[s.jsxs("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[s.jsx(n,{className:"w-6 h-6 text-orange-500"}),"Today's Stats"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Sessions"}),s.jsx("span",{className:"font-bold text-orange-600",children:S.sessionsToday})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Focus Time"}),s.jsxs("span",{className:"font-bold text-orange-600",children:[S.totalFocusTime,"m"]})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Streak"}),s.jsx("span",{className:"font-bold text-orange-600",children:S.streak})]})]})]}),s.jsxs("div",{className:"glass rounded-3xl p-6 border border-white/20","data-aos":"fade-up","data-aos-delay":"100",children:[s.jsxs("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[s.jsx(V,{className:"w-6 h-6 text-purple-500"}),"Session Goal"]}),s.jsx("textarea",{value:I,onChange:e=>R(e.target.value),placeholder:"What do you want to accomplish this session?",className:"w-full p-3 rounded-2xl border border-gray-200 dark:border-gray-600 bg-white/50 dark:bg-gray-800/50 focus:ring-2 focus:ring-purple-500 focus:border-transparent resize-none",rows:3})]}),D&&s.jsxs("div",{className:"glass rounded-3xl p-6 border border-white/20","data-aos":"fade-up","data-aos-delay":"200",children:[s.jsxs("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[s.jsx(l,{className:"w-6 h-6 text-blue-500"}),"Settings"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Work Duration (minutes)"}),s.jsx("input",{type:"number",value:b.workDuration,onChange:e=>p({...b,workDuration:parseInt(e.target.value)||25}),className:"w-full p-2 rounded-xl border border-gray-200 dark:border-gray-600 bg-white/50 dark:bg-gray-800/50",min:"1",max:"60"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Short Break (minutes)"}),s.jsx("input",{type:"number",value:b.shortBreak,onChange:e=>p({...b,shortBreak:parseInt(e.target.value)||5}),className:"w-full p-2 rounded-xl border border-gray-200 dark:border-gray-600 bg-white/50 dark:bg-gray-800/50",min:"1",max:"30"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Long Break (minutes)"}),s.jsx("input",{type:"number",value:b.longBreak,onChange:e=>p({...b,longBreak:parseInt(e.target.value)||15}),className:"w-full p-2 rounded-xl border border-gray-200 dark:border-gray-600 bg-white/50 dark:bg-gray-800/50",min:"1",max:"60"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Sound Notifications"}),s.jsx("button",{onClick:()=>p({...b,soundEnabled:!b.soundEnabled}),className:"p-2 rounded-xl transition-colors duration-200 "+(b.soundEnabled?"bg-green-500 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-500"),children:b.soundEnabled?s.jsx(d,{className:"w-4 h-4"}):s.jsx(i,{className:"w-4 h-4"})})]})]})]}),s.jsxs("div",{className:"glass rounded-3xl p-6 border border-white/20","data-aos":"fade-up","data-aos-delay":"300",children:[s.jsxs("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[s.jsx(c,{className:"w-6 h-6 text-yellow-500"}),"Pomodoro Tips"]}),s.jsxs("div",{className:"space-y-3 text-sm text-gray-600 dark:text-gray-400",children:[s.jsxs("p",{children:["🍅 ",s.jsx("strong",{children:"Focus fully"})," during work sessions - no distractions!"]}),s.jsxs("p",{children:["☕ ",s.jsx("strong",{children:"Take breaks seriously"})," - they help you recharge."]}),s.jsxs("p",{children:["📱 ",s.jsx("strong",{children:"Turn off notifications"})," to maintain deep focus."]}),s.jsxs("p",{children:["🎯 ",s.jsx("strong",{children:"Set a clear goal"})," for each session."]}),s.jsxs("p",{children:["🏃 ",s.jsx("strong",{children:"Move around"})," during breaks to stay energized."]})]})]})]})]}),s.jsx("audio",{ref:z,preload:"auto",src:"data:audio/mpeg;base64,SUQzBAAAAAABEVRYWFgAAAAtAAADY29tbWVudABCaWdTb3VuZEJhbmsuY29tIC8gTGFTb25vdGhlcXVlLm9yZwBURU5DAAAAHQAAA1N3aXRjaCBQbHVzIMKpIE5DSCBTb2Z0d2FyZQBUSVQyAAAABgAAAzIyAFRQRTEAAAARAAAAA1N3aXRjaCBQbHVzIDIuMC4yAFRTU0UAAAAPAAADTGF2ZjU4Ljc2LjEwMAD/80DEAAAAA0gAAAAATEFNRTMuMTAwVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/zQsRbAAADSAAAAABVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/zQMSkAAADSAAAAABVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV"})]})})};export{g as default};
